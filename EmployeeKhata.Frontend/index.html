<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Khata</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }
        .container-fluid {
            padding-top: 20px;
            padding-bottom: 20px;
        }
        .card {
            border-radius: 0.75rem; /* Rounded corners for cards */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        .btn {
            border-radius: 0.5rem; /* Rounded corners for buttons */
        }
        .modal-content {
            border-radius: 0.75rem; /* Rounded corners for modal */
        }
        .form-control, .form-select {
            border-radius: 0.5rem; /* Rounded corners for form inputs */
        }
        .table {
            border-radius: 0.75rem;
            overflow: hidden; /* Ensures rounded corners apply to table content */
        }
        .table thead th {
            background-color: #e9ecef;
        }
        .table th:not(:nth-child(6)), /* Excludes the 6th column (Address) from wrapping */
        .table td:not(:nth-child(6)) {
            white-space: nowrap; /* Prevents text from wrapping */
        }
        .table th,
        .table td{
            min-width: 200px;
        }
        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1050; /* Above Bootstrap modals */
            display: none; /* Hidden by default */
        }
        .spinner-border {
            width: 3rem;
            height: 3rem;
        }
        .toast-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1060; /* Above loader overlay */
        }
        .toast {
            border-radius: 0.5rem;
        }
        .pagination .page-item .page-link {
            border-radius: 0.5rem;
            margin: 0 0.25rem;
        }
        /* Custom style for horizontal scrolling within table */
        /* This ensures the table itself scrolls horizontally if content overflows */
        .table-responsive-custom {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch; /* For smoother scrolling on iOS */
        }
        /* Optional: To prevent specific columns from wrapping, you might need min-width */
        /* For example, if 'Name' should never wrap: */
        /* .table th:nth-child(1), .table td:nth-child(1) { min-width: 120px; } */
        /* However, for general horizontal scroll, .table-responsive is usually sufficient */
    </style>
</head>
<body>
    <!-- Global Loader Overlay -->
    <div id="globalLoader" class="loader-overlay">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Employee Khata</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#" id="navEmployee">Employees</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="navTitle">Titles</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <!-- Employee Page Section -->
        <div id="employeePage" class="page-section">
            <div class="card">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h4 class="mb-0">Employee List</h4>
                    <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#addEmployeeModal">
                        Add New Employee
                    </button>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Search by name or title..." id="employeeSearchInput">
                    </div>
                    <!-- Added custom responsive class for more control, though Bootstrap's is usually enough -->
                    <div class="table-responsive table-responsive-custom">
                        <table class="table table-hover table-striped">
                            <thead>
                                <tr>
                                    <!-- Removed ID column as requested -->
                                    <th>Name</th>
                                    <th>Title</th>
                                    <th>Salary</th>
                                    <th>SSN</th>
                                    <th>DOB</th>
                                    <th>Address</th>
                                    <th>City</th>
                                    <th>State</th>
                                    <th>Zip</th>
                                    <th>Phone</th>
                                    <th>Join Date</th>
                                    <th>Exit Date</th>
                                </tr>
                            </thead>
                            <tbody id="employeeTableBody">
                                <!-- Employee rows will be inserted here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Employee Pagination">
                        <ul class="pagination justify-content-center" id="employeePagination">
                            <!-- Pagination links will be inserted here by JavaScript -->
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Title Page Section -->
        <div id="titlePage" class="page-section" style="display: none;">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0">Title List</h4>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Search by title name..." id="titleSearchInput">
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover table-striped">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Min Salary</th>
                                    <th>Max Salary</th>
                                </tr>
                            </thead>
                            <tbody id="titleTableBody">
                                <!-- Title rows will be inserted here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Title Pagination">
                        <ul class="pagination justify-content-center" id="titlePagination">
                            <!-- Pagination links will be inserted here by JavaScript -->
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Employee Modal -->
    <div class="modal fade" id="addEmployeeModal" tabindex="-1" aria-labelledby="addEmployeeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg"> <!-- Increased modal size -->
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="addEmployeeModalLabel">Add New Employee</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addEmployeeForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="employeeName" class="form-label">Name <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="employeeName" required>
                                <div class="invalid-feedback">Please enter a name.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="employeeTitle" class="form-label">Title <span class="text-danger">*</span></label>
                                <select class="form-select" id="employeeTitle" required>
                                    <option value="">Select a Title</option>
                                    <!-- Titles will be loaded here by JavaScript -->
                                </select>
                                <div class="invalid-feedback">Please select a title.</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="employeeSalary" class="form-label">Salary <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="employeeSalary" required min="0">
                                <div class="invalid-feedback">Please enter a valid salary.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="employeeSSN" class="form-label">SSN <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="employeeSSN" required pattern="^\d{3}-\d{2}-\d{4}$" placeholder="XXX-XX-XXXX">
                                <div class="invalid-feedback">Please enter a valid SSN (e.g., 123-45-6789).</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="employeeDOB" class="form-label">Date of Birth <span class="text-danger">*</span></label>
                                <input type="date" class="form-control" id="employeeDOB" required>
                                <div class="invalid-feedback">Please enter a valid date of birth.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="employeeAddress" class="form-label">Address <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="employeeAddress" required>
                                <div class="invalid-feedback">Please enter an address.</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="employeeCity" class="form-label">City <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="employeeCity" required>
                                <div class="invalid-feedback">Please enter a city.</div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="employeeState" class="form-label">State <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="employeeState" required>
                                <div class="invalid-feedback">Please enter a state.</div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="employeeZip" class="form-label">Zip <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="employeeZip" required>
                                <div class="invalid-feedback">Please enter a valid zip code (e.g., 12345 or 12345-6789).</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="employeePhone" class="form-label">Phone <span class="text-danger">*</span></label>
                                <input type="tel" class="form-control" id="employeePhone" required pattern="^\d{10}$" placeholder="e.g., 1234567890">
                                <div class="invalid-feedback">Please enter a 10-digit phone number.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="employeeJoinDate" class="form-label">Join Date <span class="text-danger">*</span></label>
                                <input type="date" class="form-control" id="employeeJoinDate" required>
                                <div class="invalid-feedback">Please enter a join date.</div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end">
                            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary" id="addEmployeeSubmitBtn">
                                <span id="addEmployeeSubmitBtnText">Submit</span>
                                <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true" id="addEmployeeSubmitBtnSpinner"></span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container">
        <!-- Toasts will be appended here by JavaScript -->
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcOdihr7osQ1P+KjPxjA/f/o7xX4" crossorigin="anonymous"></script>
    <!-- Your Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>
